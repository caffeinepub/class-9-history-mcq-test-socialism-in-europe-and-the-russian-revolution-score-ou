{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Class 9 History MCQ Quiz (Socialism in Europe & Russian Revolution) — Score out of 50",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Provide an MCQ test screen experience for the specified Class 9 History chapter and topic areas with single-correct options.",
      "acceptanceCriteria": [
        "The app provides an MCQ test screen with questions from the specified chapter and topic areas.",
        "Each question shows a prompt and multiple answer options (single correct answer)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/App.tsx",
          "operation": "create",
          "description": "Create the main quiz experience UI and state-driven screens (start/question/end) and render MCQ questions with single-choice options. Use shadcn-ui components (e.g., Card/Button) to provide consistent layout and controls; verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/services/quizService.ts",
          "operation": "create",
          "description": "Add a frontend service wrapper to load the quiz questions from the backend capability (getQuestions) and expose them to the UI. Use core-infrastructure backend connection/config to construct the caller; verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/quiz/labels.ts",
          "operation": "create",
          "description": "Add topic and difficulty label mappings for English UI text (e.g., topic headings for the three requested areas) to ensure the chapter/topic coverage is clearly presented in the UI."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Implement a complete test flow with deterministic scoring and a final score displayed out of 50.",
      "acceptanceCriteria": [
        "The user can progress through the test by selecting exactly one option per question and moving forward.",
        "At the end of the test, the UI displays “Score: X / 50” where X is computed from the user’s answers.",
        "The score computation is deterministic and based on the stored correct answers."
      ],
      "file_operations": [
        {
          "path": "frontend/src/hooks/useQuiz.ts",
          "operation": "create",
          "description": "Create a React hook that manages quiz flow state (current question index, selected option per question, answered set) and performs final submission to the backend capability (submitAnswers) to obtain a deterministic score out of 50."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Wire the quiz hook into the UI: enforce exactly one selection per question, disable Next/Submit until a selection exists, submit answers at the end, and display the final “Score: X / 50”. Use shadcn-ui components (e.g., Button) for disabled/primary actions; verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/services/quizService.ts",
          "operation": "modify",
          "description": "Add a submit function that transforms local selections into the backend Answer shape and calls the backend capability (submitAnswers) to return the final score (as bigint) for display."
        }
      ]
    },
    {
      "id": "REQ-3",
      "summary": "Ensure the delivered question order progresses from easy to hard, with difficulty clearly represented.",
      "acceptanceCriteria": [
        "Questions are tagged or organized by difficulty (at least: easy, medium, hard).",
        "The delivered test order shows a clear difficulty progression from easy to hard."
      ],
      "file_operations": [
        {
          "path": "frontend/src/quiz/order.ts",
          "operation": "create",
          "description": "Implement a deterministic ordering utility that sorts/organizes fetched questions by difficulty progression (easy → medium → hard), with stable ordering within each group."
        },
        {
          "path": "frontend/src/hooks/useQuiz.ts",
          "operation": "modify",
          "description": "Apply the difficulty progression ordering to the fetched question list before starting the quiz flow, and expose each question’s difficulty for UI display."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Display a small difficulty indicator (Easy/Medium/Hard) on the question screen to reflect the progression. Use shadcn-ui Badge/Label-style components if available; verify the component's usage instructions before implementing."
        }
      ]
    },
    {
      "id": "REQ-5",
      "summary": "Build clean start/question/end quiz screens with restart and safe navigation behavior.",
      "acceptanceCriteria": [
        "The start screen clearly indicates the test is for Class 9 History and shows that the final score is out of 50.",
        "The question screen allows selecting one option per question and prevents accidental submission without a selection (by disabling next/submit until selected, or equivalent).",
        "The end screen shows the final score out of 50 and includes a restart action that resets progress."
      ],
      "file_operations": [
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Implement the three-screen structure: Start screen (chapter/topics + total 50), Question screen (single-select + Next/Submit guarded), and End screen (Score out of 50 + Restart that resets all quiz state). Use shadcn-ui components (Card/Button) to keep screens visually consistent; verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/main.tsx",
          "operation": "modify",
          "description": "Ensure the application entry renders the quiz app cleanly and keeps global providers intact while the quiz flow operates without requiring user login (no auth UI added)."
        }
      ]
    },
    {
      "id": "REQ-6",
      "summary": "Apply a coherent, distinctive warm visual theme (not blue/purple primary) consistently across all quiz screens.",
      "acceptanceCriteria": [
        "All pages/screens share a consistent design system (buttons, cards, headings, spacing).",
        "The primary palette is not blue/purple."
      ],
      "file_operations": [
        {
          "path": "frontend/index.css",
          "operation": "modify",
          "description": "Adjust global design tokens (CSS variables used by Tailwind/shadcn) to a warm, vintage textbook palette (e.g., paper/sepia background, deep brown/brick primary) ensuring primary is not blue/purple, and apply consistent typography/spacing defaults."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Apply consistent layout structure (container width, heading hierarchy, card spacing) across start/question/end screens and keep components visually aligned with the updated warm theme. Use shadcn-ui layout-friendly components where appropriate; verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "create",
          "description": "Create the stylesheet imported by the React entry (frontend/src/main.tsx). Include Tailwind directives and/or import the existing frontend/index.css so the theme is reliably applied from the expected entry path."
        }
      ]
    },
    {
      "id": "REQ-7",
      "summary": "Add and render the generated static banner image from frontend/public/assets/generated in the UI.",
      "acceptanceCriteria": [
        "The generated image(s) exist under frontend/public/assets/generated.",
        "At least one app screen displays the generated image(s) (e.g., start screen header/banner)."
      ],
      "file_operations": [
        {
          "path": "frontend/public/assets/generated/history-quiz-banner.dim_1600x400.png",
          "operation": "create",
          "description": "Add the generated static asset at the required path: frontend/public/assets/generated/history-quiz-banner.dim_1600x400.png."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Render the generated banner image (frontend/public/assets/generated/history-quiz-banner.dim_1600x400.png) prominently on the start screen (e.g., header/banner area) and ensure it scales responsively within the warm theme."
        }
      ]
    }
  ]
}